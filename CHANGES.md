# 变更日志

## 2025-03-28 重大更新：Coze API集成优化

### 新增功能

1. **创建独立的CozeClient类**
   - 封装Coze API调用逻辑到独立模块
   - 实现通用的去重功能，解决重复输出问题
   - 添加调试模式，方便排查问题

2. **增强私信自动回复功能**
   - 添加多种AI回复风格选择
   - 支持自定义系统提示词
   - 改进消息处理逻辑

3. **新增独立测试工具**
   - 添加`test.py`和`test2.py`用于测试Coze API连接
   - 支持命令行参数配置

### 代码优化

1. **模块化设计**
   - 将Coze API调用逻辑从Douyin类中分离
   - 创建可重用的工具类

2. **文本处理改进**
   - 实现两级去重算法（词级别和字符串级别）
   - 解决AI回复中重复内容问题

3. **系统提示词管理**
   - 允许用户选择预设风格或自定义风格
   - 支持运行时动态修改系统提示词

### 项目文档

1. **更新README**
   - 添加新功能说明
   - 完善使用方法指南
   - 添加注意事项

2. **添加变更日志**
   - 记录重要更新内容
   - 跟踪版本变化 